您需要承担在运行此解决方案时使用亚马逊云科技服务的费用。截至2022年9月，在美国俄勒冈区域（us-west-2）使用默认设置运行此解决方案，执行540p到4K超分辨率任务时，处理原始视频的成本约为每小时8.86美元。

## 成本估算公式

影响成本的主要因素为AWS Batch启动的Amazon EC2。实际成本还可能包括Amazon S3、Amazon EFS和AWS Lambda产生的费用。

您可以通过以下公式估算所需成本：

```
{视频高度} * {视频宽度} * {帧率} * 3e-6 = 每秒原视频对应的计费时长秒数
```

## 示例 1

以美国俄勒冈区域（us-west-2）为例，一个540p（960\*540）视频（~200MB），每秒原始视频对应的计费秒数为960\*540\*25\*3e-6=38.88秒。假设视频长度为30分钟（1800秒），对应的计费时长为1800\*38.88=69984秒=19.44小时。所以成本是： 

* OnDemand: 19.44 \* $ 0.228 = $ 4.43
* Spot: 19.44 \* $ 0.0684 = $ 1.32

| 服务 | 用量 | 费用 |
|---|---|---|
| Amazon EC2 | 由AWS batch启动, 每小时$0.228（inf1.xlarge）| $ 4.43 |
| Amazon S3 | 2 GET请求 + 1 PUT请求，200MB+600MB（估计值）, 1个月 | $ 0.023 |
| AWS Lambda | 1个请求 (~5s, 4096MB内存) | $ 0.0007 |
| Amazon EFS | 200MB, 19.4小时 | $ 0.0015 |
|  | | 总计：$ 4.4552 |

## 示例 2

以西云数据运营的亚马逊云科技中国（宁夏）区域（cn-northwest-1）为例，一个1080p（1920\*1080）视频（~1000MB），每秒原始视频对应的计费秒数为1920\*1080 \*25\*3e-6=155.52秒。假设视频长度为30分钟（1800秒），对应的计费时长为1800\*155.52=279936 秒=77.76小时。 所以成本是：


* OnDemand: 77.76 \* ¥ 2.601 = ¥ 202.25
* Spot: 77.76 \* ¥ 0.4839 = ¥ 37.62

| 服务 | 用量 | 成本 |
|---|---|---|
| Amazon EC2 | 由AWS batch启动, 每小时¥2.601（inf1.xlarge）| ¥ 202.25 |
| Amazon S3 | 2 GET请求 + 1 PUT请求，1000MB+4000MB（估计值）, 1个月 | ¥ 0.877 |
| AWS Lambda | 1个请求 (~5s, 4096MB内存) | ¥ 0.002 |
| Amazon EFS | 1000MB, 77.76小时 | ¥ 0.228 |
|  | | 总计：¥ 203.357 |
